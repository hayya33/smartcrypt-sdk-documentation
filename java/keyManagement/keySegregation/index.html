<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Smartcrypt SDK for Java"><link href=https://sdk.smartcrypt.com/java/keyManagement/keySegregation/ rel=canonical><meta name=author content="PKWARE, Inc."><link rel="shortcut icon" href=../../images/smartcrypt.svg><meta name=generator content="mkdocs-1.1.2, mkdocs-material-5.3.2"><title>Key segregation - Smartcrypt Java SDK</title><link rel=stylesheet href=../../assets/stylesheets/main.fe0cca5b.min.css><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><link rel=stylesheet href=../../css/app.css></head> <body dir=ltr> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#smartkey-segregation class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=https://sdk.smartcrypt.com/java title="Smartcrypt Java SDK" class="md-header-nav__button md-logo" aria-label="Smartcrypt Java SDK"> <img src=../../images/smartcrypt.svg alt=logo> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> Smartcrypt Java SDK </span> <span class="md-header-nav__topic md-ellipsis"> Key segregation </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class="md-tabs md-tabs--active" aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Overview </a> </li> <li class=md-tabs__item> <a href=../../concepts/logging/ class=md-tabs__link> General concepts </a> </li> <li class=md-tabs__item> <a href=../../fileEncryption/ class=md-tabs__link> File encryption </a> </li> <li class=md-tabs__item> <a href=../ class="md-tabs__link md-tabs__link--active"> Key management </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://sdk.smartcrypt.com/java title="Smartcrypt Java SDK" class="md-nav__button md-logo" aria-label="Smartcrypt Java SDK"> <img src=../../images/smartcrypt.svg alt=logo> </a> Smartcrypt Java SDK </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. title=Overview class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> General concepts <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="General concepts" data-md-level=1> <label class=md-nav__title for=nav-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> General concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../concepts/logging/ title=Logging class=md-nav__link> Logging </a> </li> <li class=md-nav__item> <a href=../../concepts/flpe/ title="Format and length preserving encryption" class=md-nav__link> Format and length preserving encryption </a> </li> <li class=md-nav__item> <a href=../../concepts/notifications/ title=Notifications class=md-nav__link> Notifications </a> </li> <li class=md-nav__item> <a href=../../concepts/observables/ title=Observables class=md-nav__link> Observables </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../faq/ title=FAQ class=md-nav__link> FAQ </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/ title=Troubleshooting class=md-nav__link> Troubleshooting </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class=md-nav__link for=nav-5> File encryption <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="File encryption" data-md-level=1> <label class=md-nav__title for=nav-5> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> File encryption </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../fileEncryption/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../fileEncryption/installing/ title=Installing class=md-nav__link> Installing </a> </li> <li class=md-nav__item> <a href=../../fileEncryption/zipDetails/ title="Zip file details" class=md-nav__link> Zip file details </a> </li> <li class=md-nav__item> <a href=../../api/index.html?com/pkware/smartcrypt/unstructured/package-summary.html title="API docs" class=md-nav__link> API docs </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-6 type=checkbox id=nav-6 checked> <label class=md-nav__link for=nav-6> Key management <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Key management" data-md-level=1> <label class=md-nav__title for=nav-6> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Key management </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../installing/ title=Installing class=md-nav__link> Installing </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Key segregation <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg> </span> </label> <a href=./ title="Key segregation" class="md-nav__link md-nav__link--active"> Key segregation </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#share-keys-with-smartcrypt-desktop-and-mobile class=md-nav__link> Share keys with Smartcrypt Desktop and Mobile </a> <nav class=md-nav aria-label="Share keys with Smartcrypt Desktop and Mobile"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#pkware-enterprise-manager-configuration class=md-nav__link> PKWARE Enterprise Manager configuration </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#isolate-keys-from-smartcrypt-desktop-and-mobile class=md-nav__link> Isolate keys from Smartcrypt Desktop and Mobile </a> <nav class=md-nav aria-label="Isolate keys from Smartcrypt Desktop and Mobile"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#motivation class=md-nav__link> Motivation </a> </li> <li class=md-nav__item> <a href=#sdk-configuration class=md-nav__link> SDK configuration </a> </li> <li class=md-nav__item> <a href=#pkware-enterprise-manager-configuration_1 class=md-nav__link> PKWARE Enterprise Manager configuration </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../metaClient/ title=MetaClient class=md-nav__link> MetaClient </a> </li> <li class=md-nav__item> <a href=../../api/index.html?com/pkware/smartcrypt/keymanagement/package-summary.html title="API docs" class=md-nav__link> API docs </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../changelog/ title="Change log" class=md-nav__link> Change log </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#share-keys-with-smartcrypt-desktop-and-mobile class=md-nav__link> Share keys with Smartcrypt Desktop and Mobile </a> <nav class=md-nav aria-label="Share keys with Smartcrypt Desktop and Mobile"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#pkware-enterprise-manager-configuration class=md-nav__link> PKWARE Enterprise Manager configuration </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#isolate-keys-from-smartcrypt-desktop-and-mobile class=md-nav__link> Isolate keys from Smartcrypt Desktop and Mobile </a> <nav class=md-nav aria-label="Isolate keys from Smartcrypt Desktop and Mobile"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#motivation class=md-nav__link> Motivation </a> </li> <li class=md-nav__item> <a href=#sdk-configuration class=md-nav__link> SDK configuration </a> </li> <li class=md-nav__item> <a href=#pkware-enterprise-manager-configuration_1 class=md-nav__link> PKWARE Enterprise Manager configuration </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1 id=smartkey-segregation>Smartkey segregation<a class=headerlink href=#smartkey-segregation title="Permanent link">&para;</a></h1> <p>The PKWARE Enterprise Manager segregates Smartkeys by the Application they are registered for. This means that an Application will only receive the keys it is expecting and was designed for, not the keys created within the context of another app, which was potentially created by another team.</p> <p>This is best explain by example. Consider two applications: the Smartcrypt Desktop product created by PKWARE, and a custom application written by your development team. Your application will typically fall into one of two buckets - either it wants to use the exact same keys as the Smartcrypt Desktop application is using, or it wants to use keys managed independently of what occurs in the Smartcrypt Desktop application.</p> <h2 id=share-keys-with-smartcrypt-desktop-and-mobile>Share keys with Smartcrypt Desktop and Mobile<a class=headerlink href=#share-keys-with-smartcrypt-desktop-and-mobile title="Permanent link">&para;</a></h2> <p>In the first case, wanting to use the exact same keys as Smartcrypt Desktop, the setup is straightforward. When you <a href=api/com/pkware/smartcrypt/metaclient/NativeMetaClient.Builder.html#appName-java.lang.String->tell the SDK which application you are</a>, say you&rsquo;re <a href=api/com/pkware/smartcrypt/protocol/SiteData.html#APPLICATION_SMARTCRYPT>Smartcrypt</a>!</p> <div class=tabbed-set data-tabs=1:2><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><label for=__tabbed_1_1>Java</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=kn>import</span> <span class=nn>com.pkware.smartcrypt.metaclient.NativeMetaClient</span><span class=p>;</span>
<span class=kn>import</span> <span class=nn>com.pkware.smartcrypt.protocol.SiteData</span><span class=p>;</span>

<span class=kd>public</span> <span class=kd>static</span> <span class=n>NativeMetaClient</span><span class=p>.</span><span class=na>Builder</span> <span class=nf>configureForSmartcrypt</span><span class=p>(</span><span class=n>NativeMetaClient</span><span class=p>.</span><span class=na>Builder</span> <span class=n>builder</span><span class=p>)</span> <span class=p>{</span>
<span class=hll>    <span class=k>return</span> <span class=n>builder</span><span class=p>.</span><span class=na>appName</span><span class=p>(</span><span class=n>SiteData</span><span class=p>.</span><span class=na>APPLICATION_SMARTCRYPT</span><span class=p>);</span>
</span><span class=p>}</span>
</code></pre></div> </div> <input id=__tabbed_1_2 name=__tabbed_1 type=radio><label for=__tabbed_1_2>Kotlin</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>import</span> <span class=nn>com.pkware.smartcrypt.metaclient.NativeMetaClient</span>
<span class=k>import</span> <span class=nn>com.pkware.smartcrypt.protocol.SiteData</span>

<span class=k>fun</span> <span class=nc>NativeMetaClient</span><span class=p>.</span><span class=nf>Builder</span><span class=p>.</span><span class=n>configureForSmartcrypt</span><span class=p>():</span> <span class=n>NativeMetaClient</span><span class=p>.</span><span class=n>Builder</span> <span class=p>=</span>
<span class=hll>    <span class=n>appName</span><span class=p>(</span><span class=n>SiteData</span><span class=p>.</span><span class=n>APPLICATION_SMARTCRYPT</span><span class=p>)</span>
</span></code></pre></div> </div> </div> <p>By indicating that your application is Smartcrypt, the PKWARE Enterprise Manager will give it all the same keys as the Smartcrypt Desktop app. This is especially useful for back office application that only use Community keys, or user-facing applications that want to delegate key creation/modification policies to Smartcrypt Desktop, but want users to be able to perform unique operations with those keys.</p> <h3 id=pkware-enterprise-manager-configuration>PKWARE Enterprise Manager configuration<a class=headerlink href=#pkware-enterprise-manager-configuration title="Permanent link">&para;</a></h3> <p>There is no additional Manager configuration required when sharing keys with Smartcrypt Desktop.</p> <h2 id=isolate-keys-from-smartcrypt-desktop-and-mobile>Isolate keys from Smartcrypt Desktop and Mobile<a class=headerlink href=#isolate-keys-from-smartcrypt-desktop-and-mobile title="Permanent link">&para;</a></h2> <p>When wanting to use keys that should not be shared with Smartcrypt Desktop, the setup is a bit more involved, and requires some planning.</p> <h3 id=motivation>Motivation<a class=headerlink href=#motivation title="Permanent link">&para;</a></h3> <p>There are good reasons for wanting to segregate your application&rsquo;s keys from those of Smartcrypt Desktop. For example, consider a scenario where your Archive policy allows users to create new Smartkeys, but in your custom application you want to tightly control which keys get used. In this case, you don&rsquo;t want the newly created keys from Smartcrypt Desktop spilling into your application. Or vice-versa, perhaps your application creates many keys, and you don&rsquo;t want those to get listed as options in the Smartcrypt Desktop UI. A theoretical example of this is a chat app, that creates a new Smartkey for each conversation.</p> <h3 id=sdk-configuration>SDK configuration<a class=headerlink href=#sdk-configuration title="Permanent link">&para;</a></h3> <p>To configure the SDK, provide the name of your custom application when you <a href=api/com/pkware/smartcrypt/metaclient/NativeMetaClient.Builder.html#appName-java.lang.String->tell the SDK which application you are</a>. For example, <code>"BackOfficeReportExporter"</code> or <code>"CorporateChat"</code>. The important thing is to <strong>not</strong> call yourself <a href=api/com/pkware/smartcrypt/protocol/SiteData.html#APPLICATION_SMARTCRYPT>Smartcrypt</a>.</p> <h3 id=pkware-enterprise-manager-configuration_1>PKWARE Enterprise Manager configuration<a class=headerlink href=#pkware-enterprise-manager-configuration_1 title="Permanent link">&para;</a></h3> <p>Manager configuration is required when using this setup. Have a PKWARE Enterprise Manager admin follow the <a href=https://support.pkware.com/home/smar/latest/sem-reference/8-sdk/applications>PKWARE Enterprise Manager SDK Applications</a> instructions to get going. Be sure to provide the same application name as you are providing the SDK.</p> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../installing/ title=Installing class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> Installing </div> </div> </a> <a href=../metaClient/ title=MetaClient class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Next </span> MetaClient </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2020 PKWARE, Inc. </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <script src=../../assets/javascripts/vendor.d710d30a.min.js></script> <script src=../../assets/javascripts/bundle.7f4f3c92.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script> <script>
        app = initialize({
          base: "../..",
          features: ["tabs"],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.9b3611bd.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>